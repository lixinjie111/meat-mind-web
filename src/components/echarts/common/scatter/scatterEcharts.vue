<template>
  <div class="echarts-box" :id="id"></div>
</template>

<script>
export default {
  name: "scatterEcharts",
  props: {
    id: {
      type: String,
      default: "",
    },
    colorList:{
      type:Array
    }
  },
  methods: {
    initEcharts() {
      let option = this.defaultOption();
      let myEchart = this.$echarts.init(document.getElementById(this.id));
      myEchart.setOption(option);
      window.addEventListener("resize", () => {
        myEchart.resize();
      });
    },
    defaultOption() {
      var redata = [
        [81.7, 67614],
        [82.5, 42822],
        [83.1, 56364],
        [81.1, 45000],
        [80.4, 44519],
        [83.2, 78162],
        [81.7, 46326],
        [81.1, 43798],
        [82.7, 37065],
        [82.2, 42582],
        [79.2, 53245],
        [84.2, 54265],
        [82, 32870],
        [82.3, 46251],
        [80.2, 75065],
        [80.8, 37931],
        [83.7, 37268],
        [82.1, 34541],
        [82.6, 31215],
        [81.9, 62471],
        [82.4, 38085],
        [81, 41243],
        [81, 38868],
        [81.6, 43609],
        [80.6, 28664],
        [83.3, 33573],
        [82.8, 32779],
        [78.8, 28144],
        [81.1, 24808],
        [79, 72843],
        [77, 26362],
        [81.5, 47979],
        [80.3, 29459],
        [80.7, 29500],
        [78.3, 129916],
        [77.6, 24117],
        [73.5, 26006],
        [82, 21665],
        [74.4, 51320],
        [76.4, 26764],
        [81.2, 26104],
        [77.1, 66203],
        [75.3, 23394],
        [74.3, 22589],
        [76.5, 20945],
        [77.5, 20291],
        [76.7, 37236],
        [76.4, 15410],
        [70.3, 23286],
        [74.8, 19428],
        [74.5, 76075],
        [71.5, 15629],
        [77, 34402],
        [75.8, 14952],
        [77.4, 19148],
        [74.3, 16261],
        [69.6, 22093],
        [75.6, 21565],
        [74.9, 24620],
        [72.9, 13771],
        [77.8, 19470],
        [76.2, 20907],
        [73.3, 23886],
        [74.6, 17948],
        [70.5, 28049],
        [79.6, 14006],
        [75, 12202],
        [79.6, 7455],
        [75.6, 16395],
        [75, 8856],
        [75.5, 18705],
        [74.4, 15129],
        [75, 10789],
        [74, 22436],
        [78, 10252],
        [79.5, 13312],
        [77, 16383],
        [70.9, 16413],
        [74.7, 14145],
        [73.6, 11502],
        [76.6, 10091],
        [75.5, 12405],
        [75, 13533],
        [74.9, 8189],
        [71.1, 7361],
        [74.2, 10111],
        [74.8, 11295],
        [74.6, 14519],
        [76.1, 10536],
        [76, 13345],
        [70.2, 8245],
        [69.8, 10449],
        [75.2, 9791],
        [75.8, 8350],
        [74.2, 12762],
        [77.9, 10096],
        [71.3, 16018],
        [75, 10249],
        [73.7, 12756],
        [73, 10372],
        [73, 5284],
        [71.8, 14303],
        [70.1, 7375],
        [73.7, 5372],
        [77, 10383],
        [69.4, 5748],
        [71.7, 5026],
        [64.5, 14663],
        [64.9, 19044],
        [73, 8182],
        [71.3, 10064],
        [65.7, 14026],
        [69.1, 10053],
        [73.1, 5256],
        [75.9, 5335],
        [68.3, 8395],
        [73.3, 7732],
        [68.7, 6155],
        [57.7, 12087],
        [70.8, 3097],
        [69.6, 11608],
        [73.5, 6049],
        [74.3, 7195],
        [75.2, 4747],
        [72.1, 7063],
        [65.1, 9770],
        [66.5, 6884],
        [69.3, 3291],
        [69.6, 2601],
        [73.3, 4466],
        [68.3, 5663],
        [69.9, 7081],
        [68.5, 5371],
        [72.1, 2805],
        [62.9, 5503],
        [57.9, 21517],
        [66.2, 2475],
        [66.6, 5049],
        [72, 3341],
        [61.5, 3],
      ];
      redata.sort(function (a, b) {
        return a[0] - b[0];
      });
      let option = {
        tooltip: {
          show: true,
          axisPointer: {
            type: "cross",
          },
          formatter: function (params) {
            if (params.value[1] > 55) {
              return params.value[2];
            } else {
              return params.name + " " + params.value;
            }
          },
        },
        grid: {
            show: true,
            left: 2,
            top: 2,
            bottom:2,
            right:2,
            containLabel: true,
          },
        xAxis: 
          {
            min: 40,
            nameLocation: "center",
            nameTextStyle:{
              color:"#97A0C3"
            },
            axisLine:{
              lineStyle:{
                color:"#EAEDF7",
                type:"dashed"
              },
              axisTick:{
                lineStyle:{
                  color:"#E9EBF1",
                },
              }
            },
                      splitLine:{
            lineStyle:{
              color:"#EAEDF7",
              type:"dashed"
            },
          },
          },
        yAxis: 
          {
            max: 80000,
            nameLocation: "end",
            nameGap: 10,
            nameTextStyle:{
              color:"#97A0C3"
            },
            axisLine:{
              lineStyle:{
                color:"#EAEDF7",
                type:"dashed"
              },
              axisTick:{
                lineStyle:{
                  color:"#E9EBF1",
                },
              }
            },
                      splitLine:{
            lineStyle:{
              color:"#EAEDF7",
              type:"dashed"
            },
          },
          },

        series: [
          {
            name: "风险",
            type: "effectScatter",
            data: [
              {
                name: "风险",
                value: [
                  75.963,
                  13345,
                  "【新浪财经】和其正在凉茶巨头夹缝中迷失，同仁堂与邓老遭多重考验",
                ],
                itemStyle:{
                  normal:{
                    color:"#FF4C60"
                  }
                },
                label: {
                  normal: {
                    color: "#FF4C60",
                  },
                },
              },
              {
                name: "机会1",
                value: [83.684, 37268, "赢商网：邓老凉茶在京开ins风国潮店"],
                itemStyle: {
                  normal: {
                    color: this.colorList[1],
                  },
                  // tooltip:{

                  // },
                },
                label: {
                  normal: {
                    color: this.colorList[1],
                  },
                },
              },
              {
                name: "机会2",
                value: [
                  79.222,
                  53245,
                  "和其正发表律师函声明，要依法惩治网络舆论散播者",
                ],
                itemStyle: {
                  normal: {
                    color: this.colorList[2],
                  },
                },
                label: {
                  normal: {
                    color: this.colorList[2],
                  },
                },
              },
            ],
            showEffectOn: "render",
            rippleEffect: {
              brushType: "stroke",
            },
            hoverAnimation: true,
            label: {
              normal: {
                formatter: "{b}",
                position: "right",
                show: true,
                color: "red",
              },
            },
            symbolSize: 15,
            itemStyle: {
              normal: {
                color: "red",
                shadowBlur: 10,
                shadowColor: "#333",
              },
            },
            zlevel: 1,
          },
          {
            name: "line",
            type: "line",
            showSymbol: false,
            smooth: true,
            data: [  [48.5, 7822],[69.588, 20093],[83.20, 55271.97]],
            itemStyle: {
              normal: {
                color: this.colorList[0],
              },
            },
          },
          {
            type: "scatter",
            itemStyle: {
              normal: {
                color: "skyblue",
                // color:this.colorList[3]
              },
            },
            data: [
              { name: "Norway", value: [81.711, 67614] },
              { name: "Australia", value: [82.537, 42822] },
              { name: "Switzerland", value: [83.133, 56364] },
              { name: "Germany", value: [81.092, 45000] },
              { name: "Denmark", value: [80.412, 44519] },
              { name: "Singapore", value: [83.209, 78162] },
              { name: "Netherlands", value: [81.706, 46326] },
              { name: "Ireland", value: [81.052, 43798] },
              { name: "Iceland", value: [82.724, 37065] },
              { name: "Canada", value: [82.224, 42582] },
              { name: "United States", value: [79.222, 53245] },
              { name: "Hong Kong, China (SAR)", value: [84.163, 54265] },
              { name: "New Zealand", value: [82.026, 32870] },
              { name: "Sweden", value: [82.347, 46251] },
              { name: "Liechtenstein", value: [80.161, 75065] },
              { name: "United Kingdom", value: [80.849, 37931] },
              { name: "Japan", value: [83.684, 37268] },
              { name: "Korea (Republic of)", value: [82.128, 34541] },
              { name: "Israel", value: [82.561, 31215] },
              { name: "Luxembourg", value: [81.881, 62471] },
              { name: "France", value: [82.359, 38085] },
              { name: "Belgium", value: [80.984, 41243] },
              { name: "Finland", value: [81.006, 38868] },
              { name: "Austria", value: [81.583, 43609] },
              { name: "Slovenia", value: [80.575, 28664] },
              { name: "Italy", value: [83.338, 33573] },
              { name: "Spain", value: [82.767, 32779] },
              { name: "Czech Republic", value: [78.775, 28144] },
              { name: "Greece", value: [81.071, 24808] },
              { name: "Brunei Darussalam", value: [79.019, 72843] },
              { name: "Estonia", value: [77.012, 26362] },
              { name: "Andorra", value: [81.458, 47979] },
              { name: "Cyprus", value: [80.332, 29459] },
              { name: "Malta", value: [80.726, 29500] },
              // {name:"Qatar",value:[78.323,129916]},
              { name: "Poland", value: [77.62, 24117] },
              { name: "Lithuania", value: [73.495, 26006] },
              { name: "Chile", value: [81.956, 21665] },
              { name: "Saudi Arabia", value: [74.444, 51320] },
              { name: "Slovakia", value: [76.409, 26764] },
              { name: "Portugal", value: [81.183, 26104] },
              { name: "United Arab Emirates", value: [77.119, 66203] },
              { name: "Hungary", value: [75.313, 23394] },
              { name: "Latvia", value: [74.342, 22589] },
              { name: "Argentina", value: [76.457, 20945] },
              { name: "Croatia", value: [77.495, 20291] },
              { name: "Bahrain", value: [76.715, 37236] },
              { name: "Montenegro", value: [76.401, 15410] },
              { name: "Russian Federation", value: [70.264, 23286] },
              { name: "Romania", value: [74.837, 19428] },
              { name: "Kuwait", value: [74.549, 76075] },
              { name: "Belarus", value: [71.464, 15629] },
              { name: "Oman", value: [76.97, 34402] },
              { name: "Barbados", value: [75.773, 14952] },
              { name: "Uruguay", value: [77.351, 19148] },
              { name: "Bulgaria", value: [74.322, 16261] },
              { name: "Kazakhstan", value: [69.588, 22093] },
              { name: "Bahamas", value: [75.556, 21565] },
              { name: "Malaysia", value: [74.901, 24620] },
              { name: "Palau", value: [72.87, 13771] },
              { name: "Panama", value: [77.755, 19470] },
              { name: "Antigua and Barbuda", value: [76.236, 20907] },
              { name: "Seychelles", value: [73.303, 23886] },
              { name: "Mauritius", value: [74.595, 17948] },
              { name: "Trinidad and Tobago", value: [70.52, 28049] },
              { name: "Costa Rica", value: [79.613, 14006] },
              { name: "Serbia", value: [75.049, 12202] },
              { name: "Cuba", value: [79.573, 7455] },
              { name: "Iran (Islamic Republic of)", value: [75.581, 16395] },
              { name: "Georgia", value: [75.02, 8856] },
              { name: "Turkey", value: [75.528, 18705] },
              {
                name: "Venezuela (Bolivarian Republic of)",
                value: [74.387, 15129],
              },
              { name: "Sri Lanka", value: [75.049, 10789] },
              { name: "Saint Kitts and Nevis", value: [73.979, 22436] },
              { name: "Albania", value: [77.968, 10252] },
              { name: "Lebanon", value: [79.537, 13312] },
              { name: "Mexico", value: [76.972, 16383] },
              { name: "Azerbaijan", value: [70.896, 16413] },
              { name: "Brazil", value: [74.748, 14145] },
              { name: "Grenada", value: [73.557, 11502] },
              { name: "Bosnia and Herzegovina", value: [76.634, 10091] },
              {
                name: "The former Yugoslav Republic of Macedonia",
                value: [75.532, 12405],
              },
              { name: "Algeria", value: [75.027, 13533] },
              { name: "Armenia", value: [74.886, 8189] },
              { name: "Ukraine", value: [71.129, 7361] },
              { name: "Jordan", value: [74.175, 10111] },
              { name: "Peru", value: [74.814, 11295] },
              { name: "Thailand", value: [74.616, 14519] },
              { name: "Ecuador", value: [76.121, 10536] },
              { name: "China", value: [75.963, 13345] },
              { name: "Fiji", value: [70.151, 8245] },
              { name: "Mongolia", value: [69.806, 10449] },
              { name: "Saint Lucia", value: [75.199, 9791] },
              { name: "Jamaica", value: [75.82, 8350] },
              { name: "Colombia", value: [74.229, 12762] },
              { name: "Dominica", value: [77.854, 10096] },
              { name: "Suriname", value: [71.277, 16018] },
              { name: "Tunisia", value: [74.982, 10249] },
              { name: "Dominican Republic", value: [73.65, 12756] },
              {
                name: "Saint Vincent and the Grenadines",
                value: [73.043, 10372],
              },
              { name: "Tonga", value: [72.989, 5284] },
              { name: "Libya", value: [71.763, 14303] },
              { name: "Belize", value: [70.076, 7375] },
              { name: "Samoa", value: [73.673, 5372] },
              { name: "Maldives", value: [76.959, 10383] },
              { name: "Uzbekistan", value: [69.4, 5748] },
              { name: "Moldova (Republic of)", value: [71.731, 5026] },
              { name: "Botswana", value: [64.508, 14663] },
              { name: "Gabon", value: [64.936, 19044] },
              { name: "Paraguay", value: [73.004, 8182] },
              { name: "Egypt", value: [71.325, 10064] },
              { name: "Turkmenistan", value: [65.734, 14026] },
              { name: "Indonesia", value: [69.052, 10053] },
              { name: "Palestine, State of", value: [73.068, 5256] },
              { name: "Viet Nam", value: [75.939, 5335] },
              { name: "Philippines", value: [68.34, 8395] },
              { name: "El Salvador", value: [73.271, 7732] },
              {
                name: "Bolivia (Plurinational State of)",
                value: [68.743, 6155],
              },
              { name: "South Africa", value: [57.658, 12087] },
              { name: "Kyrgyzstan", value: [70.791, 3097] },
              { name: "Iraq", value: [69.626, 11608] },
              { name: "Cabo Verde", value: [73.538, 6049] },
              { name: "Morocco", value: [74.31, 7195] },
              { name: "Nicaragua", value: [75.212, 4747] },
              { name: "Guatemala", value: [72.062, 7063] },
              { name: "Namibia", value: [65.062, 9770] },
              { name: "Guyana", value: [66.499, 6884] },
              {
                name: "Micronesia (Federated States of)",
                value: [69.268, 3291],
              },
              { name: "Tajikistan", value: [69.582, 2601] },
              { name: "Honduras", value: [73.334, 4466] },
              { name: "India", value: [68.322, 5663] },
              { name: "Bhutan", value: [69.852, 7081] },
              { name: "Timor-Leste", value: [68.514, 5371] },
              { name: "Vanuatu", value: [72.107, 2805] },
              { name: "Congo", value: [62.892, 5503] },
              { name: "Equatorial Guinea", value: [57.909, 21517] },
              { name: "Kiribati", value: [66.229, 2475] },
              {
                name: "Lao People's Democratic Republic",
                value: [66.598, 5049],
              },
              { name: "Bangladesh", value: [71.985, 3341] },
              { name: "Ghana", value: [61.531, 3839] },
              { name: "Zambia", value: [60.819, 3464] },
              { name: "Sao Tome and Principe", value: [66.582, 3070] },
              { name: "Cambodia", value: [68.807, 3095] },
              { name: "Nepal", value: [69.989, 2337] },
              { name: "Myanmar", value: [66.118, 4943] },
              { name: "Kenya", value: [62.164, 2881] },
              { name: "Pakistan", value: [66.365, 5031] },
              { name: "Swaziland", value: [48.943, 7522] },
              { name: "Syrian Arab Republic", value: [69.652, 2441] },
              { name: "Angola", value: [52.698, 6291] },
              { name: "Tanzania (United Republic of)", value: [65.512, 2467] },
              { name: "Nigeria", value: [53.057, 5443] },
              { name: "Cameroon", value: [55.958, 2894] },
              { name: "Papua New Guinea", value: [62.769, 2712] },
              { name: "Zimbabwe", value: [59.2, 1588] },
              { name: "Solomon Islands", value: [68.107, 1561] },
              { name: "Mauritania", value: [63.239, 3527] },
              { name: "Madagascar", value: [65.515, 1320] },
              { name: "Rwanda", value: [64.749, 1617] },
              { name: "Comoros", value: [63.567, 1335] },
              { name: "Lesotho", value: [50.08, 3319] },
              { name: "Senegal", value: [66.929, 2250] },
              { name: "Haiti", value: [63.119, 1657] },
              { name: "Uganda", value: [59.209, 1670] },
              { name: "Sudan", value: [63.732, 3846] },
              { name: "Togo", value: [60.175, 1262] },
              { name: "Benin", value: [59.76, 1979] },
              { name: "Yemen", value: [64.053, 2300] },
              { name: "Afghanistan", value: [60.704, 1871] },
              { name: "Malawi", value: [63.88, 1073] },
              { name: "Côte d'Ivoire", value: [51.889, 3163] },
              { name: "Djibouti", value: [62.297, 3216] },
              { name: "Gambia", value: [60.463, 1541] },
              { name: "Ethiopia", value: [64.602, 1523] },
              { name: "Mali", value: [58.474, 2218] },
              {
                name: "Congo (Democratic Republic of the)",
                value: [59.057, 680],
              },
              { name: "Liberia", value: [61.188, 683] },
              { name: "Guinea-Bissau", value: [55.486, 1369] },
              { name: "Eritrea", value: [64.186, 1490] },
              { name: "Sierra Leone", value: [51.317, 1529] },
              { name: "Mozambique", value: [55.478, 1098] },
              { name: "South Sudan", value: [56.134, 1882] },
              { name: "Guinea", value: [59.215, 1058] },
              { name: "Burundi", value: [57.118, 691] },
              { name: "Burkina Faso", value: [59.007, 1537] },
              { name: "Chad", value: [51.897, 1991] },
              { name: "Niger", value: [61.936, 889] },
              { name: "Central African Republic", value: [51.458, 587] },
              // {name:"World",value:[71.6234530481016,14447]}
            ]
          }
        ],
        animationEasing: "elasticOut",
        animationDelayUpdate: function (idx) {
          return idx * 5;
        },
      };
      return option;
    },
  },
  mounted() {
    this.initEcharts();
  },
};
</script>

<style scoped lang="scss">
.echarts-box {
  width: 100%;
  height: 100%;
}
</style>